import { remote, ipcRenderer } from 'electron';
import React, { useEffect, useState } from 'react';
import { H4, Collapse, Card, Label, InputGroup, FormGroup, TextArea, Callout, UL, Button } from '@blueprintjs/core';
import { useWorkspaceRO } from 'api/renderer';
import { useLocalStorage } from 'renderer/useLocalStorage';
import styles from './data-synchronizer.scss';
const API_ENDPOINT = 'fetch-commit-push';
export const DataSynchronizer = function () {
    const [username, setUsername] = useLocalStorage('gitUsername', '');
    const [password, setPassword] = useLocalStorage('gitPassword', '');
    const [commitMsg, setCommitMsg] = useState('');
    const [authorName, setAuthorName] = useState('');
    const [authorEmail, setAuthorEmail] = useState('');
    const [repoConfigOpenState, updateRepoConfigOpenState] = useState(false);
    const [repoConfigComplete, updateRepoConfigComplete] = useState(false);
    const repoCfg = useWorkspaceRO('git-config', { originURL: undefined, author: {} });
    useEffect(() => {
        if (repoCfg.originURL !== undefined) {
            const _complete = (username.trim() !== '' &&
                password.trim() !== '' &&
                (repoCfg.originURL || '').trim() !== '');
            updateRepoConfigComplete(_complete);
            if (repoConfigOpenState === false && _complete === false) {
                updateRepoConfigOpenState(true);
            }
        }
    }, [username, password, repoCfg.originURL]);
    const [errors, setErrors] = useState([]);
    const [finished, setFinished] = useState(false);
    const [started, setStarted] = useState(false);
    if (authorName.trim() === '' && repoCfg.author.name !== undefined) {
        setAuthorName(repoCfg.author.name);
    }
    if (authorEmail.trim() === '' && repoCfg.author.email !== undefined) {
        setAuthorEmail(repoCfg.author.email);
    }
    function handleResult(evt, rawData) {
        ipcRenderer.removeListener(`workspace-${API_ENDPOINT}`, handleResult);
        const data = JSON.parse(rawData);
        setStarted(false);
        setFinished(true);
        setErrors(data.errors);
        if (data.errors.length < 1) {
            setCommitMsg('');
        }
    }
    function handleSyncAction() {
        updateRepoConfigOpenState(false);
        setErrors([]);
        ipcRenderer.on(`workspace-${API_ENDPOINT}`, handleResult);
        ipcRenderer.send(`request-workspace-${API_ENDPOINT}`, JSON.stringify({
            commitMsg,
            authorName,
            authorEmail,
            gitUsername: username,
            gitPassword: password,
        }));
        setFinished(false);
        setStarted(true);
    }
    async function handleResetURL() {
        await ipcRenderer.send('clear-setting', 'gitRepoUrl');
        remote.app.relaunch();
        remote.app.quit();
    }
    const complete = (authorName.trim() != '' &&
        authorEmail.trim() != '' &&
        username.trim() != '' &&
        password.trim() != '' &&
        commitMsg.trim() != '');
    return (React.createElement(React.Fragment, null,
        React.createElement("div", { className: styles.dataSyncBase },
            React.createElement(Button, { disabled: !repoConfigComplete, onClick: () => updateRepoConfigOpenState(!repoConfigOpenState) },
                repoConfigComplete && repoConfigOpenState ? 'Hide r' : 'R',
                "epository configuration",
                !repoConfigOpenState && repoConfigComplete ? 'â€¦' : null),
            React.createElement(Collapse, { className: styles.repoConfigCollapsible, isOpen: repoConfigOpenState },
                React.createElement(Card, { key: "repoUrl", className: styles.repoUrlCard },
                    React.createElement(FormGroup, { label: "Repository URL", helperText: React.createElement(Callout, { intent: "warning" }, "Note: resetting the URL will cause you to lose any unsubmitted changes.") },
                        React.createElement(InputGroup, { defaultValue: repoCfg.originURL || '', disabled: true, type: "text", rightElement: React.createElement(Button, { intent: "warning", minimal: true, title: "Reset repository URL. Note: you will lose any unsubmitted changes.", onClick: handleResetURL }, "Reset URL") }))),
                React.createElement(Card, { key: "repoAuth", className: styles.repoAuthCard },
                    React.createElement("div", { className: styles.dataSyncRow },
                        React.createElement(Label, { key: "username" },
                            "Git username",
                            React.createElement(InputGroup, { value: username, type: "text", onChange: (evt) => {
                                    setUsername(evt.target.value);
                                } })),
                        React.createElement(Label, { key: "password" },
                            "Password",
                            React.createElement(InputGroup, { value: password, type: "password", onChange: (evt) => {
                                    setPassword(evt.target.value);
                                } }))))),
            finished === true
                ? React.createElement(Collapse, { isOpen: !repoConfigOpenState },
                    React.createElement(Card, { key: "resultMessage", className: styles.resultCard },
                        React.createElement(Callout, { intent: errors.length > 0 ? "warning" : "success", title: errors.length > 0 ? "Errors encountered during merge sequence" : "Merge completed" }, errors.length > 0
                            ? React.createElement(UL, null, errors.map((err) => React.createElement("li", null, err)))
                            : React.createElement("p", null, "Your changes have been merged and submitted."))))
                : '',
            React.createElement(Card, { key: "committerInfo", className: styles.committerInfoCard },
                React.createElement(H4, null, "Committing changes as"),
                React.createElement("div", { className: styles.dataSyncRow },
                    React.createElement(Label, { key: "authorName" },
                        "Author name",
                        React.createElement(InputGroup, { value: authorName, type: "text", onChange: (evt) => {
                                setAuthorName(evt.target.value);
                            } })),
                    React.createElement(Label, { key: "authorEmail" },
                        "Author email",
                        React.createElement(InputGroup, { value: authorEmail, type: "email", onChange: (evt) => {
                                setAuthorEmail(evt.target.value);
                            } })))),
            React.createElement(Card, { key: "commitRow", className: styles.commitCard },
                React.createElement(H4, null, "Change notice"),
                React.createElement(FormGroup, { className: styles.formGroup, key: "commitMsg", intent: "primary" },
                    React.createElement(TextArea, { value: commitMsg, fill: true, large: true, onChange: (evt) => {
                            setCommitMsg(evt.target.value);
                        } })),
                React.createElement(Button, { className: styles.syncButton, icon: "git-merge", intent: "primary", large: true, disabled: complete === false || started === true, title: "Fetch other site editors\u2019 changes, and submit yours", onClick: handleSyncAction }, "Merge Changes")))));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS1zeW5jaHJvbml6ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc3RvcmFnZS9yZW5kZXJlci9kYXRhLXN5bmNocm9uaXplci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDL0MsT0FBTyxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ25ELE9BQU8sRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVwSCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzlDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUkzRCxPQUFPLE1BQU0sTUFBTSwwQkFBMEIsQ0FBQztBQUc5QyxNQUFNLFlBQVksR0FBRyxtQkFBbUIsQ0FBQztBQUl6QyxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBb0M7SUFDL0QsTUFBTSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsR0FBRyxlQUFlLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ25FLE1BQU0sQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLEdBQUcsZUFBZSxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVuRSxNQUFNLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMvQyxNQUFNLENBQUMsVUFBVSxFQUFFLGFBQWEsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNqRCxNQUFNLENBQUMsV0FBVyxFQUFFLGNBQWMsQ0FBQyxHQUFH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VSxJQUNULEtBQUssRUFBRSxXQUFXLEVBQ2xCLElBQUksRUFBQyxPQUFPLEVBQ1osUUFBUSxFQUFFLENBQUMsR0FBaUMsRUFBRSxFQUFFO2dDQUM5QyxjQUFjLENBQUUsR0FBRyxDQUFDLE1BQTJCLENBQUMsS0FBZSxDQUFDLENBQUM7NEJBQ25FLENBQUMsR0FDRCxDQUNJLENBQ0osQ0FDRDtZQUVQLG9CQUFDLElBQUksSUFBQyxHQUFHLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsVUFBVTtnQkFDaEQsb0JBQUMsRUFBRSx3QkFBbUI7Z0JBRXRCLG9CQUFDLFNBQVMsSUFDTixTQUFTLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFDM0IsR0FBRyxFQUFDLFdBQVcsRUFDZixNQUFNLEVBQUMsU0FBUztvQkFDbEIsb0JBQUMsUUFBUSxJQUNQLEtBQUssRUFBRSxTQUFTLEVBQ2hCLElBQUksRUFBRSxJQUFJLEVBQ1YsS0FBSyxFQUFFLElBQUksRUFDWCxRQUFRLEVBQUUsQ0FBQyxHQUFpQyxFQUFFLEVBQUU7NEJBQzlDLFlBQVksQ0FBRSxHQUFHLENBQUMsTUFBMkIsQ0FBQyxLQUFlLENBQUMsQ0FBQzt3QkFDakUsQ0FBQyxHQUNELENBQ1E7Z0JBRVosb0JBQUMsTUFBTSxJQUNMLFNBQVMsRUFBRSxNQUFNLENBQUMsVUFBVSxFQUM1QixJQUFJLEVBQUMsV0FBVyxFQUNoQixNQUFNLEVBQUMsU0FBUyxFQUNoQixLQUFLLEVBQUUsSUFBSSxFQUNYLFFBQVEsRUFBRSxRQUFRLEtBQUssS0FBSyxJQUFJLE9BQU8sS0FBSyxJQUFJLEVBQ2hELEtBQUssRUFBQywwREFBcUQsRUFDM0QsT0FBTyxFQUFFLGdCQUFnQixvQkFBd0IsQ0FDOUMsQ0FDSCxDQUNMLENBQ0osQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbW90ZSwgaXBjUmVuZGVyZXIgfSBmcm9tICdlbGVjdHJvbic7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEg0LCBDb2xsYXBzZSwgQ2FyZCwgTGFiZWwsIElucHV0R3JvdXAsIEZvcm1Hcm91cCwgVGV4dEFyZWEsIENhbGxvdXQsIFVMLCBCdXR0b24gfSBmcm9tICdAYmx1ZXByaW50anMvY29yZSc7XG5cbmltcG9ydCB7IHVzZVdvcmtzcGFjZVJPIH0gZnJvbSAnYXBpL3JlbmRlcmVyJztcbmltcG9ydCB7IHVzZUxvY2FsU3RvcmFnZSB9IGZyb20gJ3JlbmRlcmVyL3VzZUxvY2FsU3RvcmFnZSc7XG5cbmltcG9ydCB7IEdpdEF1dGhvciB9IGZyb20gJy4uL2dpdCc7XG5cbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9kYXRhLXN5bmNocm9uaXplci5zY3NzJztcblxuXG5jb25zdCBBUElfRU5EUE9JTlQgPSAnZmV0Y2gtY29tbWl0LXB1c2gnO1xuXG5cbmludGVyZmFjZSBEYXRhU3luY2hyb25pemVyUHJvcHMge31cbmV4cG9ydCBjb25zdCBEYXRhU3luY2hyb25pemVyOiBSZWFjdC5GQzxEYXRhU3luY2hyb25pemVyUHJvcHM+ID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBbdXNlcm5hbWUsIHNldFVzZXJuYW1lXSA9IHVzZUxvY2FsU3RvcmFnZSgnZ2l0VXNlcm5hbWUnLCAnJyk7XG4gIGNvbnN0IFtwYXNzd29yZCwgc2V0UGFzc3dvcmRdID0gdXNlTG9jYWxTdG9yYWdlKCdnaXRQYXNzd29yZCcsICcnKTtcblxuICBjb25zdCBbY29tbWl0TXNnLCBzZXRDb21taXRNc2ddID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbYXV0aG9yTmFtZSwgc2V0QXV0aG9yTmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFthdXRob3JFbWFpbCwgc2V0QXV0aG9yRW1haWxdID0gdXNlU3RhdGUoJycpO1xuXG4gIGNvbnN0IFtyZXBvQ29uZmlnT3BlblN0YXRlLCB1cGRhdGVSZXBvQ29uZmlnT3BlblN0YXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3JlcG9Db25maWdDb21wbGV0ZSwgdXBkYXRlUmVwb0NvbmZpZ0NvbXBsZXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCByZXBvQ2ZnID0gdXNlV29ya3NwYWNlUk88eyBhdXRob3I6IEdpdEF1dGhvciwgb3JpZ2luVVJMOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkIH0+KFxuICAgICdnaXQtY29uZmlnJyxcbiAgICB7IG9yaWdpblVSTDogdW5kZWZpbmVkLCBhdXRob3I6IHt9IH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlcG9DZmcub3JpZ2luVVJMICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IF9jb21wbGV0ZSA9IChcbiAgICAgICAgdXNlcm5hbWUudHJpbSgpICE9PSAnJyAmJlxuICAgICAgICBwYXNzd29yZC50cmltKCkgIT09ICcnICYmXG4gICAgICAgIChyZXBvQ2ZnLm9yaWdpblVSTCB8fCAnJykudHJpbSgpICE9PSAnJyk7XG5cbiAgICAgIHVwZGF0ZVJlcG9Db25maWdDb21wbGV0ZShfY29tcGxldGUpO1xuICAgICAgaWYgKHJlcG9Db25maWdPcGVuU3RhdGUgPT09IGZhbHNlICYmIF9jb21wbGV0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdXBkYXRlUmVwb0NvbmZpZ09wZW5TdGF0ZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFt1c2VybmFtZSwgcGFzc3dvcmQsIHJlcG9DZmcub3JpZ2luVVJMXSk7XG5cbiAgY29uc3QgW2Vycm9ycywgc2V0RXJyb3JzXSA9IHVzZVN0YXRlKFtdIGFzIHN0cmluZ1tdKTtcbiAgY29uc3QgW2ZpbmlzaGVkLCBzZXRGaW5pc2hlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzdGFydGVkLCBzZXRTdGFydGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBpZiAoYXV0aG9yTmFtZS50cmltKCkgPT09ICcnICYmIHJlcG9DZmcuYXV0aG9yLm5hbWUgIT09IHVuZGVmaW5lZCkgeyBzZXRBdXRob3JOYW1lKHJlcG9DZmcuYXV0aG9yLm5hbWUpOyB9XG4gIGlmIChhdXRob3JFbWFpbC50cmltKCkgPT09ICcnICYmIHJlcG9DZmcuYXV0aG9yLmVtYWlsICE9PSB1bmRlZmluZWQpIHsgc2V0QXV0aG9yRW1haWwocmVwb0NmZy5hdXRob3IuZW1haWwpOyB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUmVzdWx0KGV2dDogYW55LCByYXdEYXRhOiBzdHJpbmcpIHtcbiAgICBpcGNSZW5kZXJlci5yZW1vdmVMaXN0ZW5lcihgd29ya3NwYWNlLSR7QVBJX0VORFBPSU5UfWAsIGhhbmRsZVJlc3VsdCk7XG4gICAgY29uc3QgZGF0YTogYW55ID0gSlNPTi5wYXJzZShyYXdEYXRhKTtcbiAgICBzZXRTdGFydGVkKGZhbHNlKTtcbiAgICBzZXRGaW5pc2hlZCh0cnVlKTtcbiAgICBzZXRFcnJvcnMoZGF0YS5lcnJvcnMpO1xuXG4gICAgaWYgKGRhdGEuZXJyb3JzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHNldENvbW1pdE1zZygnJyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3luY0FjdGlvbigpIHtcbiAgICB1cGRhdGVSZXBvQ29uZmlnT3BlblN0YXRlKGZhbHNlKTtcbiAgICBzZXRFcnJvcnMoW10pO1xuICAgIGlwY1JlbmRlcmVyLm9uKGB3b3Jrc3BhY2UtJHtBUElfRU5EUE9JTlR9YCwgaGFuZGxlUmVzdWx0KTtcbiAgICBpcGNSZW5kZXJlci5zZW5kKFxuICAgICAgYHJlcXVlc3Qtd29ya3NwYWNlLSR7QVBJX0VORFBPSU5UfWAsXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGNvbW1pdE1zZyxcbiAgICAgICAgYXV0aG9yTmFtZSxcbiAgICAgICAgYXV0aG9yRW1haWwsXG4gICAgICAgIGdpdFVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgZ2l0UGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgfSkpO1xuICAgIHNldEZpbmlzaGVkKGZhbHNlKTtcbiAgICBzZXRTdGFydGVkKHRydWUpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVzZXRVUkwoKSB7XG4gICAgYXdhaXQgaXBjUmVuZGVyZXIuc2VuZCgnY2xlYXItc2V0dGluZycsICdnaXRSZXBvVXJsJyk7XG4gICAgcmVtb3RlLmFwcC5yZWxhdW5jaCgpO1xuICAgIHJlbW90ZS5hcHAucXVpdCgpO1xuICB9XG5cbiAgY29uc3QgY29tcGxldGUgPSAoXG4gICAgYXV0aG9yTmFtZS50cmltKCkgIT0gJycgJiZcbiAgICBhdXRob3JFbWFpbC50cmltKCkgIT0gJycgJiZcbiAgICB1c2VybmFtZS50cmltKCkgIT0gJycgJiZcbiAgICBwYXNzd29yZC50cmltKCkgIT0gJycgJiZcbiAgICBjb21taXRNc2cudHJpbSgpICE9ICcnKTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmRhdGFTeW5jQmFzZX0+XG4gICAgICAgIDxCdXR0b24gZGlzYWJsZWQ9eyFyZXBvQ29uZmlnQ29tcGxldGV9IG9uQ2xpY2s9eygpID0+IHVwZGF0ZVJlcG9Db25maWdPcGVuU3RhdGUoIXJlcG9Db25maWdPcGVuU3RhdGUpfT5cbiAgICAgICAgICB7cmVwb0NvbmZpZ0NvbXBsZXRlICYmIHJlcG9Db25maWdPcGVuU3RhdGUgPyAnSGlkZSByJyA6ICdSJ31cbiAgICAgICAgICBlcG9zaXRvcnkgY29uZmlndXJhdGlvblxuICAgICAgICAgIHshcmVwb0NvbmZpZ09wZW5TdGF0ZSAmJiByZXBvQ29uZmlnQ29tcGxldGUgPyAn4oCmJzogbnVsbH1cbiAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgPENvbGxhcHNlIGNsYXNzTmFtZT17c3R5bGVzLnJlcG9Db25maWdDb2xsYXBzaWJsZX0gaXNPcGVuPXtyZXBvQ29uZmlnT3BlblN0YXRlfT5cbiAgICAgICAgICA8Q2FyZCBrZXk9XCJyZXBvVXJsXCIgY2xhc3NOYW1lPXtzdHlsZXMucmVwb1VybENhcmR9PlxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPVwiUmVwb3NpdG9yeSBVUkxcIlxuICAgICAgICAgICAgICAgIGhlbHBlclRleHQ9ezxDYWxsb3V0IGludGVudD1cIndhcm5pbmdcIj5Ob3RlOiByZXNldHRpbmcgdGhlIFVSTCB3aWxsIGNhdXNlIHlvdSB0byBsb3NlIGFueSB1bnN1Ym1pdHRlZCBjaGFuZ2VzLjwvQ2FsbG91dD59PlxuICAgICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17cmVwb0NmZy5vcmlnaW5VUkwgfHwgJyd9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHJpZ2h0RWxlbWVudD17XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgaW50ZW50PVwid2FybmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgbWluaW1hbD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlJlc2V0IHJlcG9zaXRvcnkgVVJMLiBOb3RlOiB5b3Ugd2lsbCBsb3NlIGFueSB1bnN1Ym1pdHRlZCBjaGFuZ2VzLlwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVzZXRVUkx9PlxuICAgICAgICAgICAgICAgICAgICBSZXNldCBVUkxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDwvQ2FyZD5cblxuICAgICAgICAgIDxDYXJkIGtleT1cInJlcG9BdXRoXCIgY2xhc3NOYW1lPXtzdHlsZXMucmVwb0F1dGhDYXJkfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZGF0YVN5bmNSb3d9PlxuICAgICAgICAgICAgICA8TGFiZWwga2V5PVwidXNlcm5hbWVcIj5cbiAgICAgICAgICAgICAgICBHaXQgdXNlcm5hbWVcbiAgICAgICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhldnQ6IFJlYWN0LkZvcm1FdmVudDxIVE1MRWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VXNlcm5hbWUoKGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgYXMgc3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICAgICAgPExhYmVsIGtleT1cInBhc3N3b3JkXCI+XG4gICAgICAgICAgICAgICAgUGFzc3dvcmRcbiAgICAgICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3Bhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZ0OiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFBhc3N3b3JkKChldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlIGFzIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgIDwvQ29sbGFwc2U+XG5cbiAgICAgICAge2ZpbmlzaGVkID09PSB0cnVlXG4gICAgICAgICAgPyA8Q29sbGFwc2UgaXNPcGVuPXshcmVwb0NvbmZpZ09wZW5TdGF0ZX0+XG4gICAgICAgICAgICAgIDxDYXJkIGtleT1cInJlc3VsdE1lc3NhZ2VcIiBjbGFzc05hbWU9e3N0eWxlcy5yZXN1bHRDYXJkfT5cbiAgICAgICAgICAgICAgICA8Q2FsbG91dFxuICAgICAgICAgICAgICAgICAgaW50ZW50PXtlcnJvcnMubGVuZ3RoID4gMCA/IFwid2FybmluZ1wiIDogXCJzdWNjZXNzXCJ9XG4gICAgICAgICAgICAgICAgICB0aXRsZT17ZXJyb3JzLmxlbmd0aCA+IDAgPyBcIkVycm9ycyBlbmNvdW50ZXJlZCBkdXJpbmcgbWVyZ2Ugc2VxdWVuY2VcIiA6IFwiTWVyZ2UgY29tcGxldGVkXCJ9PlxuXG4gICAgICAgICAgICAgICAge2Vycm9ycy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICA/IDxVTD5cbiAgICAgICAgICAgICAgICAgICAgICB7ZXJyb3JzLm1hcCgoZXJyOiBzdHJpbmcpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGk+e2Vycn08L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvVUw+XG4gICAgICAgICAgICAgICAgICA6IDxwPllvdXIgY2hhbmdlcyBoYXZlIGJlZW4gbWVyZ2VkIGFuZCBzdWJtaXR0ZWQuPC9wPn1cbiAgICAgICAgICAgICAgICA8L0NhbGxvdXQ+XG4gICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgICAgOiAnJ31cblxuICAgICAgICA8Q2FyZCBrZXk9XCJjb21taXR0ZXJJbmZvXCIgY2xhc3NOYW1lPXtzdHlsZXMuY29tbWl0dGVySW5mb0NhcmR9PlxuICAgICAgICAgIDxIND5Db21taXR0aW5nIGNoYW5nZXMgYXM8L0g0PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5kYXRhU3luY1Jvd30+XG4gICAgICAgICAgICA8TGFiZWwga2V5PVwiYXV0aG9yTmFtZVwiPlxuICAgICAgICAgICAgICBBdXRob3IgbmFtZVxuICAgICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgIHZhbHVlPXthdXRob3JOYW1lfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2dDogUmVhY3QuRm9ybUV2ZW50PEhUTUxFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0QXV0aG9yTmFtZSgoZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgPExhYmVsIGtleT1cImF1dGhvckVtYWlsXCI+XG4gICAgICAgICAgICAgIEF1dGhvciBlbWFpbFxuICAgICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgIHZhbHVlPXthdXRob3JFbWFpbH1cbiAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZ0OiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRBdXRob3JFbWFpbCgoZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgPENhcmQga2V5PVwiY29tbWl0Um93XCIgY2xhc3NOYW1lPXtzdHlsZXMuY29tbWl0Q2FyZH0+XG4gICAgICAgICAgPEg0PkNoYW5nZSBub3RpY2U8L0g0PlxuXG4gICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5mb3JtR3JvdXB9XG4gICAgICAgICAgICAgIGtleT1cImNvbW1pdE1zZ1wiXG4gICAgICAgICAgICAgIGludGVudD1cInByaW1hcnlcIj5cbiAgICAgICAgICAgIDxUZXh0QXJlYVxuICAgICAgICAgICAgICB2YWx1ZT17Y29tbWl0TXNnfVxuICAgICAgICAgICAgICBmaWxsPXt0cnVlfVxuICAgICAgICAgICAgICBsYXJnZT17dHJ1ZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhldnQ6IFJlYWN0LkZvcm1FdmVudDxIVE1MRWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICBzZXRDb21taXRNc2coKGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgYXMgc3RyaW5nKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5zeW5jQnV0dG9ufVxuICAgICAgICAgICAgaWNvbj1cImdpdC1tZXJnZVwiXG4gICAgICAgICAgICBpbnRlbnQ9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgIGxhcmdlPXt0cnVlfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2NvbXBsZXRlID09PSBmYWxzZSB8fCBzdGFydGVkID09PSB0cnVlfVxuICAgICAgICAgICAgdGl0bGU9XCJGZXRjaCBvdGhlciBzaXRlIGVkaXRvcnPigJkgY2hhbmdlcywgYW5kIHN1Ym1pdCB5b3Vyc1wiXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTeW5jQWN0aW9ufT5NZXJnZSBDaGFuZ2VzPC9CdXR0b24+XG4gICAgICAgIDwvQ2FyZD5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xufTtcbiJdfQ==