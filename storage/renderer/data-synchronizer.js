import { remote, ipcRenderer } from 'electron';
import React, { useEffect, useState } from 'react';
import { H4, Collapse, Card, Label, InputGroup, FormGroup, TextArea, Callout, UL, Button } from '@blueprintjs/core';
import { useWorkspaceRO } from '../../api/renderer';
import { useLocalStorage } from '../../renderer/useLocalStorage';
import styles from './data-synchronizer.scss';
const API_ENDPOINT = 'fetch-commit-push';
export const DataSynchronizer = function () {
    const [username, setUsername] = useLocalStorage('gitUsername', '');
    const [password, setPassword] = useLocalStorage('gitPassword', '');
    const [commitMsg, setCommitMsg] = useState('');
    const [authorName, setAuthorName] = useState('');
    const [authorEmail, setAuthorEmail] = useState('');
    const [repoConfigOpenState, updateRepoConfigOpenState] = useState(false);
    const [repoConfigComplete, updateRepoConfigComplete] = useState(false);
    const repoCfg = useWorkspaceRO('git-config', { originURL: undefined, author: {} });
    useEffect(() => {
        if (repoCfg.originURL !== undefined) {
            const _complete = (username.trim() !== '' &&
                password.trim() !== '' &&
                (repoCfg.originURL || '').trim() !== '');
            updateRepoConfigComplete(_complete);
            if (repoConfigOpenState === false && _complete === false) {
                updateRepoConfigOpenState(true);
            }
        }
    }, [username, password, repoCfg.originURL]);
    const [errors, setErrors] = useState([]);
    const [finished, setFinished] = useState(false);
    const [started, setStarted] = useState(false);
    if (authorName.trim() === '' && repoCfg.author.name !== undefined) {
        setAuthorName(repoCfg.author.name);
    }
    if (authorEmail.trim() === '' && repoCfg.author.email !== undefined) {
        setAuthorEmail(repoCfg.author.email);
    }
    function handleResult(evt, rawData) {
        ipcRenderer.removeListener(`workspace-${API_ENDPOINT}`, handleResult);
        const data = JSON.parse(rawData);
        setStarted(false);
        setFinished(true);
        setErrors(data.errors);
        if (data.errors.length < 1) {
            setCommitMsg('');
        }
    }
    function handleSyncAction() {
        updateRepoConfigOpenState(false);
        setErrors([]);
        ipcRenderer.on(`workspace-${API_ENDPOINT}`, handleResult);
        ipcRenderer.send(`request-workspace-${API_ENDPOINT}`, JSON.stringify({
            commitMsg,
            authorName,
            authorEmail,
            gitUsername: username,
            gitPassword: password,
        }));
        setFinished(false);
        setStarted(true);
    }
    async function handleResetURL() {
        await ipcRenderer.send('clear-setting', 'gitRepoUrl');
        remote.app.relaunch();
        remote.app.exit(0);
    }
    const complete = (authorName.trim() != '' &&
        authorEmail.trim() != '' &&
        username.trim() != '' &&
        password.trim() != '' &&
        commitMsg.trim() != '');
    return (React.createElement(React.Fragment, null,
        React.createElement("div", { className: styles.dataSyncBase },
            React.createElement(Button, { disabled: !repoConfigComplete, onClick: () => updateRepoConfigOpenState(!repoConfigOpenState) },
                repoConfigComplete && repoConfigOpenState ? 'Hide r' : 'R',
                "epository configuration",
                !repoConfigOpenState && repoConfigComplete ? 'â€¦' : null),
            React.createElement(Collapse, { className: styles.repoConfigCollapsible, isOpen: repoConfigOpenState },
                React.createElement(Card, { key: "repoUrl", className: styles.repoUrlCard },
                    React.createElement(FormGroup, { label: "Repository URL", helperText: React.createElement(Callout, { intent: "warning" }, "Note: resetting the URL will cause you to lose any unsubmitted changes.") },
                        React.createElement(InputGroup, { defaultValue: repoCfg.originURL || '', disabled: true, type: "text", rightElement: React.createElement(Button, { intent: "warning", minimal: true, title: "Reset repository URL. Note: you will lose any unsubmitted changes.", onClick: handleResetURL }, "Reset URL") }))),
                React.createElement(Card, { key: "repoAuth", className: styles.repoAuthCard },
                    React.createElement("div", { className: styles.dataSyncRow },
                        React.createElement(Label, { key: "username" },
                            "Git username",
                            React.createElement(InputGroup, { value: username, type: "text", onChange: (evt) => {
                                    setUsername(evt.target.value);
                                } })),
                        React.createElement(Label, { key: "password" },
                            "Password",
                            React.createElement(InputGroup, { value: password, type: "password", onChange: (evt) => {
                                    setPassword(evt.target.value);
                                } }))))),
            finished === true
                ? React.createElement(Collapse, { isOpen: !repoConfigOpenState },
                    React.createElement(Card, { key: "resultMessage", className: styles.resultCard },
                        React.createElement(Callout, { intent: errors.length > 0 ? "warning" : "success", title: errors.length > 0 ? "Errors encountered during merge sequence" : "Merge completed" }, errors.length > 0
                            ? React.createElement(UL, null, errors.map((err) => React.createElement("li", null, err)))
                            : React.createElement("p", null, "Your changes have been merged and submitted."))))
                : '',
            React.createElement(Card, { key: "committerInfo", className: styles.committerInfoCard },
                React.createElement(H4, null, "Committing changes as"),
                React.createElement("div", { className: styles.dataSyncRow },
                    React.createElement(Label, { key: "authorName" },
                        "Author name",
                        React.createElement(InputGroup, { value: authorName, type: "text", onChange: (evt) => {
                                setAuthorName(evt.target.value);
                            } })),
                    React.createElement(Label, { key: "authorEmail" },
                        "Author email",
                        React.createElement(InputGroup, { value: authorEmail, type: "email", onChange: (evt) => {
                                setAuthorEmail(evt.target.value);
                            } })))),
            React.createElement(Card, { key: "commitRow", className: styles.commitCard },
                React.createElement(H4, null, "Change notice"),
                React.createElement(FormGroup, { className: styles.formGroup, key: "commitMsg", intent: "primary" },
                    React.createElement(TextArea, { value: commitMsg, fill: true, large: true, onChange: (evt) => {
                            setCommitMsg(evt.target.value);
                        } })),
                React.createElement(Button, { className: styles.syncButton, icon: "git-merge", intent: "primary", large: true, disabled: complete === false, loading: started === true, title: "Fetch other site editors\u2019 changes, and submit yours", onClick: handleSyncAction }, "Merge Changes")))));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS1zeW5jaHJvbml6ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc3RvcmFnZS9yZW5kZXJlci9kYXRhLXN5bmNocm9uaXplci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDL0MsT0FBTyxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ25ELE9BQU8sRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVwSCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDcEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBSWpFLE9BQU8sTUFBTSxNQUFNLDBCQUEwQixDQUFDO0FBRzlDLE1BQU0sWUFBWSxHQUFHLG1CQUFtQixDQUFDO0FBSXpDLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFvQztJQUMvRCxNQUFNLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxHQUFHLGVBQWUsQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbkUsTUFBTSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsR0FBRyxlQUFlLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRW5FLE1BQU0sQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLEdBQUcsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLEdBQUcsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2pELE1BQU0sQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEdB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dEIsb0JBQUMsVUFBVSxJQUNULEtBQUssRUFBRSxXQUFXLEVBQ2xCLElBQUksRUFBQyxPQUFPLEVBQ1osUUFBUSxFQUFFLENBQUMsR0FBaUMsRUFBRSxFQUFFO2dDQUM5QyxjQUFjLENBQUUsR0FBRyxDQUFDLE1BQTJCLENBQUMsS0FBZSxDQUFDLENBQUM7NEJBQ25FLENBQUMsR0FDRCxDQUNJLENBQ0osQ0FDRDtZQUVQLG9CQUFDLElBQUksSUFBQyxHQUFHLEVBQUMsV0FBVyxFQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsVUFBVTtnQkFDaEQsb0JBQUMsRUFBRSx3QkFBbUI7Z0JBRXRCLG9CQUFDLFNBQVMsSUFDTixTQUFTLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFDM0IsR0FBRyxFQUFDLFdBQVcsRUFDZixNQUFNLEVBQUMsU0FBUztvQkFDbEIsb0JBQUMsUUFBUSxJQUNQLEtBQUssRUFBRSxTQUFTLEVBQ2hCLElBQUksRUFBRSxJQUFJLEVBQ1YsS0FBSyxFQUFFLElBQUksRUFDWCxRQUFRLEVBQUUsQ0FBQyxHQUFpQyxFQUFFLEVBQUU7NEJBQzlDLFlBQVksQ0FBRSxHQUFHLENBQUMsTUFBMkIsQ0FBQyxLQUFlLENBQUMsQ0FBQzt3QkFDakUsQ0FBQyxHQUNELENBQ1E7Z0JBRVosb0JBQUMsTUFBTSxJQUNMLFNBQVMsRUFBRSxNQUFNLENBQUMsVUFBVSxFQUM1QixJQUFJLEVBQUMsV0FBVyxFQUNoQixNQUFNLEVBQUMsU0FBUyxFQUNoQixLQUFLLEVBQUUsSUFBSSxFQUNYLFFBQVEsRUFBRSxRQUFRLEtBQUssS0FBSyxFQUM1QixPQUFPLEVBQUUsT0FBTyxLQUFLLElBQUksRUFDekIsS0FBSyxFQUFDLDBEQUFxRCxFQUMzRCxPQUFPLEVBQUUsZ0JBQWdCLG9CQUF3QixDQUM5QyxDQUNILENBQ0wsQ0FDSixDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVtb3RlLCBpcGNSZW5kZXJlciB9IGZyb20gJ2VsZWN0cm9uJztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSDQsIENvbGxhcHNlLCBDYXJkLCBMYWJlbCwgSW5wdXRHcm91cCwgRm9ybUdyb3VwLCBUZXh0QXJlYSwgQ2FsbG91dCwgVUwsIEJ1dHRvbiB9IGZyb20gJ0BibHVlcHJpbnRqcy9jb3JlJztcblxuaW1wb3J0IHsgdXNlV29ya3NwYWNlUk8gfSBmcm9tICcuLi8uLi9hcGkvcmVuZGVyZXInO1xuaW1wb3J0IHsgdXNlTG9jYWxTdG9yYWdlIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXIvdXNlTG9jYWxTdG9yYWdlJztcblxuaW1wb3J0IHsgR2l0QXV0aG9yIH0gZnJvbSAnLi4vZ2l0JztcblxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2RhdGEtc3luY2hyb25pemVyLnNjc3MnO1xuXG5cbmNvbnN0IEFQSV9FTkRQT0lOVCA9ICdmZXRjaC1jb21taXQtcHVzaCc7XG5cblxuaW50ZXJmYWNlIERhdGFTeW5jaHJvbml6ZXJQcm9wcyB7fVxuZXhwb3J0IGNvbnN0IERhdGFTeW5jaHJvbml6ZXI6IFJlYWN0LkZDPERhdGFTeW5jaHJvbml6ZXJQcm9wcz4gPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IFt1c2VybmFtZSwgc2V0VXNlcm5hbWVdID0gdXNlTG9jYWxTdG9yYWdlKCdnaXRVc2VybmFtZScsICcnKTtcbiAgY29uc3QgW3Bhc3N3b3JkLCBzZXRQYXNzd29yZF0gPSB1c2VMb2NhbFN0b3JhZ2UoJ2dpdFBhc3N3b3JkJywgJycpO1xuXG4gIGNvbnN0IFtjb21taXRNc2csIHNldENvbW1pdE1zZ10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFthdXRob3JOYW1lLCBzZXRBdXRob3JOYW1lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2F1dGhvckVtYWlsLCBzZXRBdXRob3JFbWFpbF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgY29uc3QgW3JlcG9Db25maWdPcGVuU3RhdGUsIHVwZGF0ZVJlcG9Db25maWdPcGVuU3RhdGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVwb0NvbmZpZ0NvbXBsZXRlLCB1cGRhdGVSZXBvQ29uZmlnQ29tcGxldGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IHJlcG9DZmcgPSB1c2VXb3Jrc3BhY2VSTzx7IGF1dGhvcjogR2l0QXV0aG9yLCBvcmlnaW5VUkw6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQgfT4oXG4gICAgJ2dpdC1jb25maWcnLFxuICAgIHsgb3JpZ2luVVJMOiB1bmRlZmluZWQsIGF1dGhvcjoge30gfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVwb0NmZy5vcmlnaW5VUkwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgX2NvbXBsZXRlID0gKFxuICAgICAgICB1c2VybmFtZS50cmltKCkgIT09ICcnICYmXG4gICAgICAgIHBhc3N3b3JkLnRyaW0oKSAhPT0gJycgJiZcbiAgICAgICAgKHJlcG9DZmcub3JpZ2luVVJMIHx8ICcnKS50cmltKCkgIT09ICcnKTtcblxuICAgICAgdXBkYXRlUmVwb0NvbmZpZ0NvbXBsZXRlKF9jb21wbGV0ZSk7XG4gICAgICBpZiAocmVwb0NvbmZpZ09wZW5TdGF0ZSA9PT0gZmFsc2UgJiYgX2NvbXBsZXRlID09PSBmYWxzZSkge1xuICAgICAgICB1cGRhdGVSZXBvQ29uZmlnT3BlblN0YXRlKHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3VzZXJuYW1lLCBwYXNzd29yZCwgcmVwb0NmZy5vcmlnaW5VUkxdKTtcblxuICBjb25zdCBbZXJyb3JzLCBzZXRFcnJvcnNdID0gdXNlU3RhdGUoW10gYXMgc3RyaW5nW10pO1xuICBjb25zdCBbZmluaXNoZWQsIHNldEZpbmlzaGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3N0YXJ0ZWQsIHNldFN0YXJ0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGlmIChhdXRob3JOYW1lLnRyaW0oKSA9PT0gJycgJiYgcmVwb0NmZy5hdXRob3IubmFtZSAhPT0gdW5kZWZpbmVkKSB7IHNldEF1dGhvck5hbWUocmVwb0NmZy5hdXRob3IubmFtZSk7IH1cbiAgaWYgKGF1dGhvckVtYWlsLnRyaW0oKSA9PT0gJycgJiYgcmVwb0NmZy5hdXRob3IuZW1haWwgIT09IHVuZGVmaW5lZCkgeyBzZXRBdXRob3JFbWFpbChyZXBvQ2ZnLmF1dGhvci5lbWFpbCk7IH1cblxuICBmdW5jdGlvbiBoYW5kbGVSZXN1bHQoZXZ0OiBhbnksIHJhd0RhdGE6IHN0cmluZykge1xuICAgIGlwY1JlbmRlcmVyLnJlbW92ZUxpc3RlbmVyKGB3b3Jrc3BhY2UtJHtBUElfRU5EUE9JTlR9YCwgaGFuZGxlUmVzdWx0KTtcbiAgICBjb25zdCBkYXRhOiBhbnkgPSBKU09OLnBhcnNlKHJhd0RhdGEpO1xuICAgIHNldFN0YXJ0ZWQoZmFsc2UpO1xuICAgIHNldEZpbmlzaGVkKHRydWUpO1xuICAgIHNldEVycm9ycyhkYXRhLmVycm9ycyk7XG5cbiAgICBpZiAoZGF0YS5lcnJvcnMubGVuZ3RoIDwgMSkge1xuICAgICAgc2V0Q29tbWl0TXNnKCcnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVTeW5jQWN0aW9uKCkge1xuICAgIHVwZGF0ZVJlcG9Db25maWdPcGVuU3RhdGUoZmFsc2UpO1xuICAgIHNldEVycm9ycyhbXSk7XG4gICAgaXBjUmVuZGVyZXIub24oYHdvcmtzcGFjZS0ke0FQSV9FTkRQT0lOVH1gLCBoYW5kbGVSZXN1bHQpO1xuICAgIGlwY1JlbmRlcmVyLnNlbmQoXG4gICAgICBgcmVxdWVzdC13b3Jrc3BhY2UtJHtBUElfRU5EUE9JTlR9YCxcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgY29tbWl0TXNnLFxuICAgICAgICBhdXRob3JOYW1lLFxuICAgICAgICBhdXRob3JFbWFpbCxcbiAgICAgICAgZ2l0VXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICBnaXRQYXNzd29yZDogcGFzc3dvcmQsXG4gICAgICB9KSk7XG4gICAgc2V0RmluaXNoZWQoZmFsc2UpO1xuICAgIHNldFN0YXJ0ZWQodHJ1ZSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZXNldFVSTCgpIHtcbiAgICBhd2FpdCBpcGNSZW5kZXJlci5zZW5kKCdjbGVhci1zZXR0aW5nJywgJ2dpdFJlcG9VcmwnKTtcbiAgICByZW1vdGUuYXBwLnJlbGF1bmNoKCk7XG4gICAgcmVtb3RlLmFwcC5leGl0KDApO1xuICB9XG5cbiAgY29uc3QgY29tcGxldGUgPSAoXG4gICAgYXV0aG9yTmFtZS50cmltKCkgIT0gJycgJiZcbiAgICBhdXRob3JFbWFpbC50cmltKCkgIT0gJycgJiZcbiAgICB1c2VybmFtZS50cmltKCkgIT0gJycgJiZcbiAgICBwYXNzd29yZC50cmltKCkgIT0gJycgJiZcbiAgICBjb21taXRNc2cudHJpbSgpICE9ICcnKTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmRhdGFTeW5jQmFzZX0+XG4gICAgICAgIDxCdXR0b24gZGlzYWJsZWQ9eyFyZXBvQ29uZmlnQ29tcGxldGV9IG9uQ2xpY2s9eygpID0+IHVwZGF0ZVJlcG9Db25maWdPcGVuU3RhdGUoIXJlcG9Db25maWdPcGVuU3RhdGUpfT5cbiAgICAgICAgICB7cmVwb0NvbmZpZ0NvbXBsZXRlICYmIHJlcG9Db25maWdPcGVuU3RhdGUgPyAnSGlkZSByJyA6ICdSJ31cbiAgICAgICAgICBlcG9zaXRvcnkgY29uZmlndXJhdGlvblxuICAgICAgICAgIHshcmVwb0NvbmZpZ09wZW5TdGF0ZSAmJiByZXBvQ29uZmlnQ29tcGxldGUgPyAn4oCmJzogbnVsbH1cbiAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgPENvbGxhcHNlIGNsYXNzTmFtZT17c3R5bGVzLnJlcG9Db25maWdDb2xsYXBzaWJsZX0gaXNPcGVuPXtyZXBvQ29uZmlnT3BlblN0YXRlfT5cbiAgICAgICAgICA8Q2FyZCBrZXk9XCJyZXBvVXJsXCIgY2xhc3NOYW1lPXtzdHlsZXMucmVwb1VybENhcmR9PlxuICAgICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICAgIGxhYmVsPVwiUmVwb3NpdG9yeSBVUkxcIlxuICAgICAgICAgICAgICAgIGhlbHBlclRleHQ9ezxDYWxsb3V0IGludGVudD1cIndhcm5pbmdcIj5Ob3RlOiByZXNldHRpbmcgdGhlIFVSTCB3aWxsIGNhdXNlIHlvdSB0byBsb3NlIGFueSB1bnN1Ym1pdHRlZCBjaGFuZ2VzLjwvQ2FsbG91dD59PlxuICAgICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17cmVwb0NmZy5vcmlnaW5VUkwgfHwgJyd9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHJpZ2h0RWxlbWVudD17XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgaW50ZW50PVwid2FybmluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgbWluaW1hbD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlJlc2V0IHJlcG9zaXRvcnkgVVJMLiBOb3RlOiB5b3Ugd2lsbCBsb3NlIGFueSB1bnN1Ym1pdHRlZCBjaGFuZ2VzLlwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVzZXRVUkx9PlxuICAgICAgICAgICAgICAgICAgICBSZXNldCBVUkxcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgIDwvQ2FyZD5cblxuICAgICAgICAgIDxDYXJkIGtleT1cInJlcG9BdXRoXCIgY2xhc3NOYW1lPXtzdHlsZXMucmVwb0F1dGhDYXJkfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZGF0YVN5bmNSb3d9PlxuICAgICAgICAgICAgICA8TGFiZWwga2V5PVwidXNlcm5hbWVcIj5cbiAgICAgICAgICAgICAgICBHaXQgdXNlcm5hbWVcbiAgICAgICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhldnQ6IFJlYWN0LkZvcm1FdmVudDxIVE1MRWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VXNlcm5hbWUoKGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgYXMgc3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICAgICAgPExhYmVsIGtleT1cInBhc3N3b3JkXCI+XG4gICAgICAgICAgICAgICAgUGFzc3dvcmRcbiAgICAgICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3Bhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZ0OiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFBhc3N3b3JkKChldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlIGFzIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgIDwvQ29sbGFwc2U+XG5cbiAgICAgICAge2ZpbmlzaGVkID09PSB0cnVlXG4gICAgICAgICAgPyA8Q29sbGFwc2UgaXNPcGVuPXshcmVwb0NvbmZpZ09wZW5TdGF0ZX0+XG4gICAgICAgICAgICAgIDxDYXJkIGtleT1cInJlc3VsdE1lc3NhZ2VcIiBjbGFzc05hbWU9e3N0eWxlcy5yZXN1bHRDYXJkfT5cbiAgICAgICAgICAgICAgICA8Q2FsbG91dFxuICAgICAgICAgICAgICAgICAgaW50ZW50PXtlcnJvcnMubGVuZ3RoID4gMCA/IFwid2FybmluZ1wiIDogXCJzdWNjZXNzXCJ9XG4gICAgICAgICAgICAgICAgICB0aXRsZT17ZXJyb3JzLmxlbmd0aCA+IDAgPyBcIkVycm9ycyBlbmNvdW50ZXJlZCBkdXJpbmcgbWVyZ2Ugc2VxdWVuY2VcIiA6IFwiTWVyZ2UgY29tcGxldGVkXCJ9PlxuXG4gICAgICAgICAgICAgICAge2Vycm9ycy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgICA/IDxVTD5cbiAgICAgICAgICAgICAgICAgICAgICB7ZXJyb3JzLm1hcCgoZXJyOiBzdHJpbmcpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGk+e2Vycn08L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvVUw+XG4gICAgICAgICAgICAgICAgICA6IDxwPllvdXIgY2hhbmdlcyBoYXZlIGJlZW4gbWVyZ2VkIGFuZCBzdWJtaXR0ZWQuPC9wPn1cbiAgICAgICAgICAgICAgICA8L0NhbGxvdXQ+XG4gICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgICAgOiAnJ31cblxuICAgICAgICA8Q2FyZCBrZXk9XCJjb21taXR0ZXJJbmZvXCIgY2xhc3NOYW1lPXtzdHlsZXMuY29tbWl0dGVySW5mb0NhcmR9PlxuICAgICAgICAgIDxIND5Db21taXR0aW5nIGNoYW5nZXMgYXM8L0g0PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5kYXRhU3luY1Jvd30+XG4gICAgICAgICAgICA8TGFiZWwga2V5PVwiYXV0aG9yTmFtZVwiPlxuICAgICAgICAgICAgICBBdXRob3IgbmFtZVxuICAgICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgIHZhbHVlPXthdXRob3JOYW1lfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2dDogUmVhY3QuRm9ybUV2ZW50PEhUTUxFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0QXV0aG9yTmFtZSgoZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgPExhYmVsIGtleT1cImF1dGhvckVtYWlsXCI+XG4gICAgICAgICAgICAgIEF1dGhvciBlbWFpbFxuICAgICAgICAgICAgICA8SW5wdXRHcm91cFxuICAgICAgICAgICAgICAgIHZhbHVlPXthdXRob3JFbWFpbH1cbiAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZ0OiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRBdXRob3JFbWFpbCgoZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgPENhcmQga2V5PVwiY29tbWl0Um93XCIgY2xhc3NOYW1lPXtzdHlsZXMuY29tbWl0Q2FyZH0+XG4gICAgICAgICAgPEg0PkNoYW5nZSBub3RpY2U8L0g0PlxuXG4gICAgICAgICAgPEZvcm1Hcm91cFxuICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5mb3JtR3JvdXB9XG4gICAgICAgICAgICAgIGtleT1cImNvbW1pdE1zZ1wiXG4gICAgICAgICAgICAgIGludGVudD1cInByaW1hcnlcIj5cbiAgICAgICAgICAgIDxUZXh0QXJlYVxuICAgICAgICAgICAgICB2YWx1ZT17Y29tbWl0TXNnfVxuICAgICAgICAgICAgICBmaWxsPXt0cnVlfVxuICAgICAgICAgICAgICBsYXJnZT17dHJ1ZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhldnQ6IFJlYWN0LkZvcm1FdmVudDxIVE1MRWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICBzZXRDb21taXRNc2coKGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgYXMgc3RyaW5nKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5zeW5jQnV0dG9ufVxuICAgICAgICAgICAgaWNvbj1cImdpdC1tZXJnZVwiXG4gICAgICAgICAgICBpbnRlbnQ9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgIGxhcmdlPXt0cnVlfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2NvbXBsZXRlID09PSBmYWxzZX1cbiAgICAgICAgICAgIGxvYWRpbmc9e3N0YXJ0ZWQgPT09IHRydWV9XG4gICAgICAgICAgICB0aXRsZT1cIkZldGNoIG90aGVyIHNpdGUgZWRpdG9yc+KAmSBjaGFuZ2VzLCBhbmQgc3VibWl0IHlvdXJzXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN5bmNBY3Rpb259Pk1lcmdlIENoYW5nZXM8L0J1dHRvbj5cbiAgICAgICAgPC9DYXJkPlxuICAgICAgPC9kaXY+XG4gICAgPC8+XG4gICk7XG59O1xuIl19