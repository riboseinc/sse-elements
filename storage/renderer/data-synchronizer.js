import { remote, ipcRenderer } from 'electron';
import React, { useEffect, useState } from 'react';
import { H4, Collapse, Card, Label, InputGroup, FormGroup, TextArea, Callout, UL, Button } from '@blueprintjs/core';
import { request } from '../../api/renderer';
import { useLocalStorage } from '../../renderer/useLocalStorage';
import styles from './data-synchronizer.scss';
const API_ENDPOINT = 'fetch-commit-push';
export const DataSynchronizer = function () {
    const [username, setUsername] = useLocalStorage('gitUsername', '');
    const [password, setPassword] = useLocalStorage('gitPassword', '');
    const [commitMsg, setCommitMsg] = useState('');
    const [authorName, setAuthorName] = useState('');
    const [authorEmail, setAuthorEmail] = useState('');
    const [repoConfigOpenState, updateRepoConfigOpenState] = useState(false);
    const [repoConfigComplete, updateRepoConfigComplete] = useState(false);
    const [repoCfg, updateRepoCfg] = useState({ originURL: undefined, author: {} });
    async function fetchRepoConfig() {
        console.debug("Getting repo config");
        const repoCfg = await request('git-config');
        console.debug("Got repo config", repoCfg);
        updateRepoCfg(repoCfg);
    }
    useEffect(() => {
        fetchRepoConfig();
    }, []);
    useEffect(() => {
        if (repoCfg.originURL !== undefined) {
            const _complete = (username.trim() !== '' &&
                password.trim() !== '' &&
                (repoCfg.originURL || '').trim() !== '');
            updateRepoConfigComplete(_complete);
            if (repoConfigOpenState === false && _complete === false) {
                updateRepoConfigOpenState(true);
            }
        }
    }, [username, password, repoCfg.originURL]);
    const [errors, setErrors] = useState([]);
    const [finished, setFinished] = useState(false);
    const [started, setStarted] = useState(false);
    if (authorName.trim() === '' && repoCfg.author.name !== undefined) {
        setAuthorName(repoCfg.author.name);
    }
    if (authorEmail.trim() === '' && repoCfg.author.email !== undefined) {
        setAuthorEmail(repoCfg.author.email);
    }
    async function handleSyncAction() {
        setFinished(false);
        setStarted(true);
        setErrors([]);
        updateRepoConfigOpenState(false);
        const result = await request(API_ENDPOINT, {
            commitMsg,
            authorName,
            authorEmail,
            gitUsername: username,
            gitPassword: password,
        });
        setErrors(result.errors);
        if (result.errors.length < 1) {
            setCommitMsg('');
        }
        setStarted(false);
        setFinished(true);
    }
    async function handleResetURL() {
        await ipcRenderer.send('clear-setting', 'gitRepoUrl');
        remote.app.relaunch();
        remote.app.exit(0);
    }
    const complete = (authorName.trim() != '' &&
        authorEmail.trim() != '' &&
        username.trim() != '' &&
        password.trim() != '' &&
        commitMsg.trim() != '');
    return (React.createElement(React.Fragment, null,
        React.createElement("div", { className: styles.dataSyncBase },
            React.createElement(Button, { disabled: !repoConfigComplete, onClick: () => updateRepoConfigOpenState(!repoConfigOpenState) },
                repoConfigComplete && repoConfigOpenState ? 'Hide r' : 'R',
                "epository configuration",
                !repoConfigOpenState && repoConfigComplete ? 'â€¦' : null),
            React.createElement(Collapse, { className: styles.repoConfigCollapsible, isOpen: repoConfigOpenState },
                React.createElement(Card, { key: "repoUrl", className: styles.repoUrlCard },
                    React.createElement(FormGroup, { label: "Repository URL", helperText: React.createElement(Callout, { intent: "warning" }, "Note: resetting the URL will cause you to lose any unsubmitted changes.") },
                        React.createElement(InputGroup, { defaultValue: repoCfg.originURL || '', disabled: true, type: "text", rightElement: React.createElement(Button, { intent: "warning", minimal: true, title: "Reset repository URL. Note: you will lose any unsubmitted changes.", onClick: handleResetURL }, "Reset URL") }))),
                React.createElement(Card, { key: "repoAuth", className: styles.repoAuthCard },
                    React.createElement("div", { className: styles.dataSyncRow },
                        React.createElement(Label, { key: "username" },
                            "Git username",
                            React.createElement(InputGroup, { value: username, type: "text", onChange: (evt) => {
                                    setUsername(evt.target.value);
                                } })),
                        React.createElement(Label, { key: "password" },
                            "Password",
                            React.createElement(InputGroup, { value: password, type: "password", onChange: (evt) => {
                                    setPassword(evt.target.value);
                                } }))))),
            finished === true
                ? React.createElement(Collapse, { isOpen: !repoConfigOpenState },
                    React.createElement(Card, { key: "resultMessage", className: styles.resultCard },
                        React.createElement(Callout, { intent: errors.length > 0 ? "warning" : "success", title: errors.length > 0 ? "Errors encountered during merge sequence" : "Merge completed" }, errors.length > 0
                            ? React.createElement(UL, null, errors.map((err) => React.createElement("li", null, err)))
                            : React.createElement("p", null, "Your changes have been merged and submitted."))))
                : '',
            React.createElement(Card, { key: "committerInfo", className: styles.committerInfoCard },
                React.createElement(H4, null, "Committing changes as"),
                React.createElement("div", { className: styles.dataSyncRow },
                    React.createElement(Label, { key: "authorName" },
                        "Author name",
                        React.createElement(InputGroup, { value: authorName, type: "text", onChange: (evt) => {
                                setAuthorName(evt.target.value);
                            } })),
                    React.createElement(Label, { key: "authorEmail" },
                        "Author email",
                        React.createElement(InputGroup, { value: authorEmail, type: "email", onChange: (evt) => {
                                setAuthorEmail(evt.target.value);
                            } })))),
            React.createElement(Card, { key: "commitRow", className: styles.commitCard },
                React.createElement(H4, null, "Change notice"),
                React.createElement(FormGroup, { className: styles.formGroup, key: "commitMsg", intent: "primary" },
                    React.createElement(TextArea, { value: commitMsg, fill: true, large: true, onChange: (evt) => {
                            setCommitMsg(evt.target.value);
                        } })),
                React.createElement(Button, { className: styles.syncButton, icon: "git-merge", intent: "primary", large: true, disabled: complete === false, loading: started === true, title: "Fetch other site editors\u2019 changes, and submit yours", onClick: handleSyncAction }, "Merge Changes")))));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS1zeW5jaHJvbml6ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc3RvcmFnZS9yZW5kZXJlci9kYXRhLXN5bmNocm9uaXplci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDL0MsT0FBTyxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBQ25ELE9BQU8sRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVwSCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDN0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBSWpFLE9BQU8sTUFBTSxNQUFNLDBCQUEwQixDQUFDO0FBRzlDLE1BQU0sWUFBWSxHQUFHLG1CQUFtQixDQUFDO0FBTXpDLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFvQztJQUMvRCxNQUFNLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxHQUFHLGVBQWUsQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbkUsTUFBTSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsR0FBRyxlQUFlLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRW5FLE1BQU0sQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLEdBQUcsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQy9DLE1BQU0sQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLEdBQUcsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2pELE1BQU0sQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEdB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Y1JlbmRlcmVyIH0gZnJvbSAnZWxlY3Ryb24nO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBINCwgQ29sbGFwc2UsIENhcmQsIExhYmVsLCBJbnB1dEdyb3VwLCBGb3JtR3JvdXAsIFRleHRBcmVhLCBDYWxsb3V0LCBVTCwgQnV0dG9uIH0gZnJvbSAnQGJsdWVwcmludGpzL2NvcmUnO1xuXG5pbXBvcnQgeyByZXF1ZXN0IH0gZnJvbSAnLi4vLi4vYXBpL3JlbmRlcmVyJztcbmltcG9ydCB7IHVzZUxvY2FsU3RvcmFnZSB9IGZyb20gJy4uLy4uL3JlbmRlcmVyL3VzZUxvY2FsU3RvcmFnZSc7XG5cbmltcG9ydCB7IEdpdEF1dGhvciB9IGZyb20gJy4uL2dpdCc7XG5cbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9kYXRhLXN5bmNocm9uaXplci5zY3NzJztcblxuXG5jb25zdCBBUElfRU5EUE9JTlQgPSAnZmV0Y2gtY29tbWl0LXB1c2gnO1xuXG50eXBlIFJlcG9Db25maWcgPSB7IGF1dGhvcjogR2l0QXV0aG9yLCBvcmlnaW5VUkw6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQgfTtcblxuXG5pbnRlcmZhY2UgRGF0YVN5bmNocm9uaXplclByb3BzIHt9XG5leHBvcnQgY29uc3QgRGF0YVN5bmNocm9uaXplcjogUmVhY3QuRkM8RGF0YVN5bmNocm9uaXplclByb3BzPiA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgW3VzZXJuYW1lLCBzZXRVc2VybmFtZV0gPSB1c2VMb2NhbFN0b3JhZ2UoJ2dpdFVzZXJuYW1lJywgJycpO1xuICBjb25zdCBbcGFzc3dvcmQsIHNldFBhc3N3b3JkXSA9IHVzZUxvY2FsU3RvcmFnZSgnZ2l0UGFzc3dvcmQnLCAnJyk7XG5cbiAgY29uc3QgW2NvbW1pdE1zZywgc2V0Q29tbWl0TXNnXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2F1dGhvck5hbWUsIHNldEF1dGhvck5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbYXV0aG9yRW1haWwsIHNldEF1dGhvckVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcblxuICBjb25zdCBbcmVwb0NvbmZpZ09wZW5TdGF0ZSwgdXBkYXRlUmVwb0NvbmZpZ09wZW5TdGF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtyZXBvQ29uZmlnQ29tcGxldGUsIHVwZGF0ZVJlcG9Db25maWdDb21wbGV0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgW3JlcG9DZmcsIHVwZGF0ZVJlcG9DZmddID0gdXNlU3RhdGUoeyBvcmlnaW5VUkw6IHVuZGVmaW5lZCwgYXV0aG9yOiB7fSB9IGFzIFJlcG9Db25maWcpO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoUmVwb0NvbmZpZygpIHtcbiAgICBjb25zb2xlLmRlYnVnKFwiR2V0dGluZyByZXBvIGNvbmZpZ1wiKTtcbiAgICBjb25zdCByZXBvQ2ZnID0gYXdhaXQgcmVxdWVzdDxSZXBvQ29uZmlnPignZ2l0LWNvbmZpZycpO1xuICAgIGNvbnNvbGUuZGVidWcoXCJHb3QgcmVwbyBjb25maWdcIiwgcmVwb0NmZyk7XG4gICAgdXBkYXRlUmVwb0NmZyhyZXBvQ2ZnKTtcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2hSZXBvQ29uZmlnKCk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyZXBvQ2ZnLm9yaWdpblVSTCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBfY29tcGxldGUgPSAoXG4gICAgICAgIHVzZXJuYW1lLnRyaW0oKSAhPT0gJycgJiZcbiAgICAgICAgcGFzc3dvcmQudHJpbSgpICE9PSAnJyAmJlxuICAgICAgICAocmVwb0NmZy5vcmlnaW5VUkwgfHwgJycpLnRyaW0oKSAhPT0gJycpO1xuXG4gICAgICB1cGRhdGVSZXBvQ29uZmlnQ29tcGxldGUoX2NvbXBsZXRlKTtcbiAgICAgIGlmIChyZXBvQ29uZmlnT3BlblN0YXRlID09PSBmYWxzZSAmJiBfY29tcGxldGUgPT09IGZhbHNlKSB7XG4gICAgICAgIHVwZGF0ZVJlcG9Db25maWdPcGVuU3RhdGUodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbdXNlcm5hbWUsIHBhc3N3b3JkLCByZXBvQ2ZnLm9yaWdpblVSTF0pO1xuXG4gIGNvbnN0IFtlcnJvcnMsIHNldEVycm9yc10gPSB1c2VTdGF0ZShbXSBhcyBzdHJpbmdbXSk7XG4gIGNvbnN0IFtmaW5pc2hlZCwgc2V0RmluaXNoZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc3RhcnRlZCwgc2V0U3RhcnRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgaWYgKGF1dGhvck5hbWUudHJpbSgpID09PSAnJyAmJiByZXBvQ2ZnLmF1dGhvci5uYW1lICE9PSB1bmRlZmluZWQpIHsgc2V0QXV0aG9yTmFtZShyZXBvQ2ZnLmF1dGhvci5uYW1lKTsgfVxuICBpZiAoYXV0aG9yRW1haWwudHJpbSgpID09PSAnJyAmJiByZXBvQ2ZnLmF1dGhvci5lbWFpbCAhPT0gdW5kZWZpbmVkKSB7IHNldEF1dGhvckVtYWlsKHJlcG9DZmcuYXV0aG9yLmVtYWlsKTsgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVN5bmNBY3Rpb24oKSB7XG4gICAgc2V0RmluaXNoZWQoZmFsc2UpO1xuICAgIHNldFN0YXJ0ZWQodHJ1ZSk7XG4gICAgc2V0RXJyb3JzKFtdKTtcblxuICAgIHVwZGF0ZVJlcG9Db25maWdPcGVuU3RhdGUoZmFsc2UpO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDx7IGVycm9yczogc3RyaW5nW10gfT4oQVBJX0VORFBPSU5ULCB7XG4gICAgICBjb21taXRNc2csXG4gICAgICBhdXRob3JOYW1lLFxuICAgICAgYXV0aG9yRW1haWwsXG4gICAgICBnaXRVc2VybmFtZTogdXNlcm5hbWUsXG4gICAgICBnaXRQYXNzd29yZDogcGFzc3dvcmQsXG4gICAgfSk7XG5cbiAgICBzZXRFcnJvcnMocmVzdWx0LmVycm9ycyk7XG4gICAgaWYgKHJlc3VsdC5lcnJvcnMubGVuZ3RoIDwgMSkge1xuICAgICAgc2V0Q29tbWl0TXNnKCcnKTtcbiAgICB9XG5cbiAgICBzZXRTdGFydGVkKGZhbHNlKTtcbiAgICBzZXRGaW5pc2hlZCh0cnVlKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlc2V0VVJMKCkge1xuICAgIGF3YWl0IGlwY1JlbmRlcmVyLnNlbmQoJ2NsZWFyLXNldHRpbmcnLCAnZ2l0UmVwb1VybCcpO1xuICAgIHJlbW90ZS5hcHAucmVsYXVuY2goKTtcbiAgICByZW1vdGUuYXBwLmV4aXQoMCk7XG4gIH1cblxuICBjb25zdCBjb21wbGV0ZSA9IChcbiAgICBhdXRob3JOYW1lLnRyaW0oKSAhPSAnJyAmJlxuICAgIGF1dGhvckVtYWlsLnRyaW0oKSAhPSAnJyAmJlxuICAgIHVzZXJuYW1lLnRyaW0oKSAhPSAnJyAmJlxuICAgIHBhc3N3b3JkLnRyaW0oKSAhPSAnJyAmJlxuICAgIGNvbW1pdE1zZy50cmltKCkgIT0gJycpO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuZGF0YVN5bmNCYXNlfT5cbiAgICAgICAgPEJ1dHRvbiBkaXNhYmxlZD17IXJlcG9Db25maWdDb21wbGV0ZX0gb25DbGljaz17KCkgPT4gdXBkYXRlUmVwb0NvbmZpZ09wZW5TdGF0ZSghcmVwb0NvbmZpZ09wZW5TdGF0ZSl9PlxuICAgICAgICAgIHtyZXBvQ29uZmlnQ29tcGxldGUgJiYgcmVwb0NvbmZpZ09wZW5TdGF0ZSA/ICdIaWRlIHInIDogJ1InfVxuICAgICAgICAgIGVwb3NpdG9yeSBjb25maWd1cmF0aW9uXG4gICAgICAgICAgeyFyZXBvQ29uZmlnT3BlblN0YXRlICYmIHJlcG9Db25maWdDb21wbGV0ZSA/ICfigKYnOiBudWxsfVxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICA8Q29sbGFwc2UgY2xhc3NOYW1lPXtzdHlsZXMucmVwb0NvbmZpZ0NvbGxhcHNpYmxlfSBpc09wZW49e3JlcG9Db25maWdPcGVuU3RhdGV9PlxuICAgICAgICAgIDxDYXJkIGtleT1cInJlcG9VcmxcIiBjbGFzc05hbWU9e3N0eWxlcy5yZXBvVXJsQ2FyZH0+XG4gICAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJSZXBvc2l0b3J5IFVSTFwiXG4gICAgICAgICAgICAgICAgaGVscGVyVGV4dD17PENhbGxvdXQgaW50ZW50PVwid2FybmluZ1wiPk5vdGU6IHJlc2V0dGluZyB0aGUgVVJMIHdpbGwgY2F1c2UgeW91IHRvIGxvc2UgYW55IHVuc3VibWl0dGVkIGNoYW5nZXMuPC9DYWxsb3V0Pn0+XG4gICAgICAgICAgICAgIDxJbnB1dEdyb3VwXG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtyZXBvQ2ZnLm9yaWdpblVSTCB8fCAnJ31cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgcmlnaHRFbGVtZW50PXtcbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBpbnRlbnQ9XCJ3YXJuaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICBtaW5pbWFsPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVzZXQgcmVwb3NpdG9yeSBVUkwuIE5vdGU6IHlvdSB3aWxsIGxvc2UgYW55IHVuc3VibWl0dGVkIGNoYW5nZXMuXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZXNldFVSTH0+XG4gICAgICAgICAgICAgICAgICAgIFJlc2V0IFVSTFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgPENhcmQga2V5PVwicmVwb0F1dGhcIiBjbGFzc05hbWU9e3N0eWxlcy5yZXBvQXV0aENhcmR9PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5kYXRhU3luY1Jvd30+XG4gICAgICAgICAgICAgIDxMYWJlbCBrZXk9XCJ1c2VybmFtZVwiPlxuICAgICAgICAgICAgICAgIEdpdCB1c2VybmFtZVxuICAgICAgICAgICAgICAgIDxJbnB1dEdyb3VwXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2dDogUmVhY3QuRm9ybUV2ZW50PEhUTUxFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRVc2VybmFtZSgoZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgICA8TGFiZWwga2V5PVwicGFzc3dvcmRcIj5cbiAgICAgICAgICAgICAgICBQYXNzd29yZFxuICAgICAgICAgICAgICAgIDxJbnB1dEdyb3VwXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhldnQ6IFJlYWN0LkZvcm1FdmVudDxIVE1MRWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UGFzc3dvcmQoKGV2dC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgYXMgc3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgPC9Db2xsYXBzZT5cblxuICAgICAgICB7ZmluaXNoZWQgPT09IHRydWVcbiAgICAgICAgICA/IDxDb2xsYXBzZSBpc09wZW49eyFyZXBvQ29uZmlnT3BlblN0YXRlfT5cbiAgICAgICAgICAgICAgPENhcmQga2V5PVwicmVzdWx0TWVzc2FnZVwiIGNsYXNzTmFtZT17c3R5bGVzLnJlc3VsdENhcmR9PlxuICAgICAgICAgICAgICAgIDxDYWxsb3V0XG4gICAgICAgICAgICAgICAgICBpbnRlbnQ9e2Vycm9ycy5sZW5ndGggPiAwID8gXCJ3YXJuaW5nXCIgOiBcInN1Y2Nlc3NcIn1cbiAgICAgICAgICAgICAgICAgIHRpdGxlPXtlcnJvcnMubGVuZ3RoID4gMCA/IFwiRXJyb3JzIGVuY291bnRlcmVkIGR1cmluZyBtZXJnZSBzZXF1ZW5jZVwiIDogXCJNZXJnZSBjb21wbGV0ZWRcIn0+XG5cbiAgICAgICAgICAgICAgICB7ZXJyb3JzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgID8gPFVMPlxuICAgICAgICAgICAgICAgICAgICAgIHtlcnJvcnMubWFwKChlcnI6IHN0cmluZykgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT57ZXJyfTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9VTD5cbiAgICAgICAgICAgICAgICAgIDogPHA+WW91ciBjaGFuZ2VzIGhhdmUgYmVlbiBtZXJnZWQgYW5kIHN1Ym1pdHRlZC48L3A+fVxuICAgICAgICAgICAgICAgIDwvQ2FsbG91dD5cbiAgICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgICAgICA6ICcnfVxuXG4gICAgICAgIDxDYXJkIGtleT1cImNvbW1pdHRlckluZm9cIiBjbGFzc05hbWU9e3N0eWxlcy5jb21taXR0ZXJJbmZvQ2FyZH0+XG4gICAgICAgICAgPEg0PkNvbW1pdHRpbmcgY2hhbmdlcyBhczwvSDQ+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmRhdGFTeW5jUm93fT5cbiAgICAgICAgICAgIDxMYWJlbCBrZXk9XCJhdXRob3JOYW1lXCI+XG4gICAgICAgICAgICAgIEF1dGhvciBuYW1lXG4gICAgICAgICAgICAgIDxJbnB1dEdyb3VwXG4gICAgICAgICAgICAgICAgdmFsdWU9e2F1dGhvck5hbWV9XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZXZ0OiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXRBdXRob3JOYW1lKChldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlIGFzIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICA8TGFiZWwga2V5PVwiYXV0aG9yRW1haWxcIj5cbiAgICAgICAgICAgICAgQXV0aG9yIGVtYWlsXG4gICAgICAgICAgICAgIDxJbnB1dEdyb3VwXG4gICAgICAgICAgICAgICAgdmFsdWU9e2F1dGhvckVtYWlsfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhldnQ6IFJlYWN0LkZvcm1FdmVudDxIVE1MRWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldEF1dGhvckVtYWlsKChldnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlIGFzIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ2FyZD5cblxuICAgICAgICA8Q2FyZCBrZXk9XCJjb21taXRSb3dcIiBjbGFzc05hbWU9e3N0eWxlcy5jb21taXRDYXJkfT5cbiAgICAgICAgICA8SDQ+Q2hhbmdlIG5vdGljZTwvSDQ+XG5cbiAgICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmZvcm1Hcm91cH1cbiAgICAgICAgICAgICAga2V5PVwiY29tbWl0TXNnXCJcbiAgICAgICAgICAgICAgaW50ZW50PVwicHJpbWFyeVwiPlxuICAgICAgICAgICAgPFRleHRBcmVhXG4gICAgICAgICAgICAgIHZhbHVlPXtjb21taXRNc2d9XG4gICAgICAgICAgICAgIGZpbGw9e3RydWV9XG4gICAgICAgICAgICAgIGxhcmdlPXt0cnVlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2dDogUmVhY3QuRm9ybUV2ZW50PEhUTUxFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICAgIHNldENvbW1pdE1zZygoZXZ0LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0Zvcm1Hcm91cD5cblxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnN5bmNCdXR0b259XG4gICAgICAgICAgICBpY29uPVwiZ2l0LW1lcmdlXCJcbiAgICAgICAgICAgIGludGVudD1cInByaW1hcnlcIlxuICAgICAgICAgICAgbGFyZ2U9e3RydWV9XG4gICAgICAgICAgICBkaXNhYmxlZD17Y29tcGxldGUgPT09IGZhbHNlfVxuICAgICAgICAgICAgbG9hZGluZz17c3RhcnRlZCA9PT0gdHJ1ZX1cbiAgICAgICAgICAgIHRpdGxlPVwiRmV0Y2ggb3RoZXIgc2l0ZSBlZGl0b3Jz4oCZIGNoYW5nZXMsIGFuZCBzdWJtaXQgeW91cnNcIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3luY0FjdGlvbn0+TWVyZ2UgQ2hhbmdlczwvQnV0dG9uPlxuICAgICAgICA8L0NhcmQ+XG4gICAgICA8L2Rpdj5cbiAgICA8Lz5cbiAgKTtcbn07XG4iXX0=